{% extends 'base.html' %}
{% block content %}

<div class="container">
    <table class="table table-striped table-hover"><h1>Best Seller Ranking</h1><br><br>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Movie Name</th>
                <th>Director Name</th>
                <th>Movie Type</th>
                <th>Numcopies</th>
                <th>Rating</th>
                <th>More</th>
            </tr>
        </thead>
        <tbody>
            {% for item in qs %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{item.moviename}}</td>
                <td>{{item.directorname}}</td>
                <td>{{item.movietype}}</td>
                <td>{{item.numcopies}}</td>
                <td>{{item.rating}}</td>
                <td>
                    <details>
                        <summary>Actors</summary>
                        {% for casts in cast_info %}
                        {% for cast in casts %}
                        {% if cast.movieid.id == item.id %}
                        <div>
                            Name : {{cast.actorid.name}},
                            Age : {{cast.actorid.age}},
                            Sex : {{cast.actorid.sex}},
                            Rating : {{cast.actorid.rating}}
                        </div>
                        {% endif %}
                        {% endfor %}
                        {% endfor %}
                    </details>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}